{"version":3,"file":"case_all.bundle.js","sources":["../src/case_all.js"],"sourcesContent":["import './style/style.scss'\r\nimport 'main.core'\r\n\r\nexport class CaseAll\r\n{\r\n\tconstructor ()\r\n\t{\r\n\t\tthis.container = document.querySelector('[data-container=\"testimonials\"]')\r\n\t\tthis.target = this.container.querySelector('[data-target]')\r\n\t\tthis.pagination = this.container.querySelector('[data-pagination]')\r\n\t\tthis.filter = document.querySelector('[data-filter]');\r\n\r\n\t\tdocument.addEventListener('before.smart.filter', this.beforeSmartFilter.bind(this))\r\n\t\tdocument.addEventListener('after.smart.filter', this.afterSmartFilter.bind(this))\r\n\t}\r\n\r\n\tbeforeSmartFilter()\r\n\t{\r\n\t\tthis.container.classList.add('f-loading');\r\n\t\tthis.filter.classList.add('f-loading');\r\n\t}\r\n\r\n\tafterSmartFilter(evt = new CustomEvent('after.smart.filter'))\r\n\t{\r\n\t\tconst url = evt.detail.FILTER_AJAX_URL.replaceAll('&amp;', '&')\r\n\t\tBX.ajax({\r\n\t\t\turl: url,\r\n\t\t\tdataType: 'html',\r\n\t\t\tonsuccess: (response) => {\r\n\t\t\t\tconst fragment = document.implementation.createHTMLDocument();\r\n\t\t\t\tif (response.toLowerCase().indexOf('<!doctype') > -1) {\r\n\t\t\t\t\tfragment.documentElement.innerHTML = response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfragment.body.innerHTML = response;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst container = fragment.querySelector('[data-container=\"testimonials\"]')\r\n\t\t\t\tconst filter = fragment.querySelector('[data-filter]');\r\n\t\t\t\tdocument.querySelector('[data-filter]').innerHTML = filter.innerHTML;\r\n\r\n\t\t\t\tif (container) {\r\n\t\t\t\t\tconst target = container.querySelector('[data-target]')\r\n\t\t\t\t\tthis.target.innerHTML = target.innerHTML\r\n\r\n\t\t\t\t\tconst pagination = container.querySelector('[data-pagination]');\r\n\t\t\t\t\tif (pagination && this.pagination) {\r\n\t\t\t\t\t\tthis.pagination.innerHTML = pagination.innerHTML;\r\n\t\t\t\t\t} else if (pagination && !this.pagination && this.target) {\r\n\t\t\t\t\t\tthis.target.after(pagination);\r\n\t\t\t\t\t} else if (!pagination && this.pagination) {\r\n\t\t\t\t\t\tthis.pagination.remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (window.Smartfilter) {\r\n\t\t\t\t\t\twindow.Smartfilter.initFilter();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (window.AjaxPagination && window.AjaxPagination.length) {\r\n\t\t\t\t\t\twindow.AjaxPagination.forEach((pager) => {\r\n\t\t\t\t\t\t\tif (pager.target && pager.target.id === 'block-content') {\r\n\t\t\t\t\t\t\t\tpager.init();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.container.classList.remove('f-loading', 'is-visible');\r\n\t\t\t\tthis.filter.classList.remove('f-loading', 'is-visible');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}"],"names":["CaseAll","this","container","document","querySelector","target","pagination","filter","addEventListener","beforeSmartFilter","bind","afterSmartFilter","_proto","classList","add","evt","CustomEvent","url","detail","FILTER_AJAX_URL","replaceAll","BX","ajax","dataType","onsuccess","response","fragment","implementation","createHTMLDocument","toLowerCase","indexOf","documentElement","innerHTML","body","_this","after","remove","window","Smartfilter","initFilter","AjaxPagination","length","forEach","pager","id","init"],"mappings":"iDAGaA,aAEZ,aAECC,KAAKC,UAAYC,SAASC,cAAc,mCACxCH,KAAKI,OAASJ,KAAKC,UAAUE,cAAc,iBAC3CH,KAAKK,WAAaL,KAAKC,UAAUE,cAAc,qBAC/CH,KAAKM,OAASJ,SAASC,cAAc,iBAErCD,SAASK,iBAAiB,sBAAuBP,KAAKQ,kBAAkBC,KAAKT,OAC7EE,SAASK,iBAAiB,qBAAsBP,KAAKU,iBAAiBD,KAAKT,OAC3E,kBAwDA,OAxDAW,EAEDH,kBAAA,WAECR,KAAKC,UAAUW,UAAUC,IAAI,aAC7Bb,KAAKM,OAAOM,UAAUC,IAAI,cAC1BF,EAEDD,iBAAA,SAAiBI,GACjB,oBADiBA,IAAAA,EAAM,IAAIC,YAAY,uBAEtC,IAAMC,EAAMF,EAAIG,OAAOC,gBAAgBC,WAAW,QAAS,KAC3DC,GAAGC,KAAK,CACPL,IAAKA,EACLM,SAAU,OACVC,UAAW,SAACC,GACX,IAAMC,EAAWvB,SAASwB,eAAeC,qBACrCH,EAASI,cAAcC,QAAQ,cAAgB,EAClDJ,EAASK,gBAAgBC,UAAYP,EAErCC,EAASO,KAAKD,UAAYP,EAG3B,IAAMvB,EAAYwB,EAAStB,cAAc,mCACnCG,EAASmB,EAAStB,cAAc,iBAGtC,GAFAD,SAASC,cAAc,iBAAiB4B,UAAYzB,EAAOyB,UAEvD9B,EAAW,CACd,IAAMG,EAASH,EAAUE,cAAc,iBACvC8B,EAAK7B,OAAO2B,UAAY3B,EAAO2B,UAE/B,IAAM1B,EAAaJ,EAAUE,cAAc,qBACvCE,GAAc4B,EAAK5B,WACtB4B,EAAK5B,WAAW0B,UAAY1B,EAAW0B,UAC7B1B,IAAe4B,EAAK5B,YAAc4B,EAAK7B,OACjD6B,EAAK7B,OAAO8B,MAAM7B,IACPA,GAAc4B,EAAK5B,YAC9B4B,EAAK5B,WAAW8B,SAGbC,OAAOC,aACVD,OAAOC,YAAYC,aAGhBF,OAAOG,gBAAkBH,OAAOG,eAAeC,QAClDJ,OAAOG,eAAeE,SAAQ,SAACC,GAC1BA,EAAMtC,QAA8B,kBAApBsC,EAAMtC,OAAOuC,IAChCD,EAAME,UAMVX,EAAKhC,UAAUW,UAAUuB,OAAO,YAAa,cAC7CF,EAAK3B,OAAOM,UAAUuB,OAAO,YAAa,mBAG5C"}