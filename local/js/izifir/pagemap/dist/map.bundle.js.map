{"version":3,"file":"map.bundle.js","sources":["../src/map.js"],"sourcesContent":["import './style/style.scss'\r\nimport 'main.core'\r\n\r\nexport class PageMap\r\n{\r\n\tconstructor (params = {})\r\n\t{\r\n\t\tthis.lat = params.lat || null\r\n\t\tthis.long = params.long || null\r\n\t\tthis.zoom = params.zoom || 10\r\n\t\tthis.address = params.address || null\r\n\t\tthis.phone = params.phone || null\r\n\r\n\t\tif (this.lat && this.long) {\r\n\t\t\tymaps.ready(this.initMap.bind(this))\r\n\t\t}\r\n\t}\r\n\r\n\tinitMap ()\r\n\t{\r\n\t\tthis.map = new ymaps.Map(\"map\", {\r\n\t\t\tcenter: [this.lat, this.long],\r\n\t\t\tzoom: this.zoom,\r\n\t\t\tcontrols: []\r\n\t\t})\r\n\r\n\t\tthis.map.controls.add('zoomControl', {\r\n\t\t\tfloat: 'right',\r\n\t\t\tposition: {\r\n\t\t\t\tright: 10,\r\n\t\t\t\ttop: 108\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.map.behaviors.disable('scrollZoom');\r\n\r\n\t\tvar objectManager = new ymaps.ObjectManager({\r\n\t\t\t// Чтобы метки начали кластеризоваться, выставляем опцию.\r\n\t\t\tclusterize: true,\r\n\t\t\t// ObjectManager принимает те же опции, что и кластеризатор.\r\n\t\t\tgridSize: 32,\r\n\t\t\tclusterDisableClickZoom: true\r\n\t\t});\r\n\r\n\t\tobjectManager.objects.options.set('preset', 'islands#blueDotIcon');\r\n\t\tobjectManager.clusters.options.set('preset', 'islands#blueClusterIcons');\r\n\t\tthis.map.geoObjects.add(objectManager);\r\n\r\n\t\tconst coord = {\r\n\t\t\t\"type\": \"FeatureCollection\",\r\n\t\t\t\"features\": []\r\n\t\t}\r\n\r\n\t\tcoord.features.push(\r\n\t\t\t{\r\n\t\t\t\t\"type\": \"Feature\",\r\n\t\t\t\t\"id\": 1,\r\n\t\t\t\t\"geometry\": {\r\n\t\t\t\t\t\"type\": \"Point\",\r\n\t\t\t\t\t\"coordinates\": [\r\n\t\t\t\t\t\tthis.lat,\r\n\t\t\t\t\t\tthis.long\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t\"properties\": {\r\n\t\t\t\t\t/* TODO: Настройки точек карты */\r\n\t\t\t\t\t// \"balloonContentHeader\": \"<font size=3><span>Наш офис</span></font>\",\r\n\t\t\t\t\t\"balloonContentBody\": \"\" +\r\n\t\t\t\t\t\t\"<p>Адрес: \" + this.address + \"</p>\" +\r\n\t\t\t\t\t\t\"<a href='tel:\" + this.phone + \"' class='mgo-number'>Телефон: \" + this.phone + \"</a>\",\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tobjectManager.add(coord);\r\n\t}\r\n}"],"names":["PageMap","params","this","lat","long","zoom","address","phone","ymaps","ready","initMap","bind","map","Map","center","controls","add","float","position","right","top","behaviors","disable","objectManager","ObjectManager","clusterize","gridSize","clusterDisableClickZoom","objects","options","set","clusters","geoObjects","coord","type","features","push","id","geometry","coordinates","properties","balloonContentBody"],"mappings":"iDAGaA,aAEZ,WAAaC,YAAAA,IAAAA,EAAS,IAErBC,KAAKC,IAAMF,EAAOE,KAAO,KACzBD,KAAKE,KAAOH,EAAOG,MAAQ,KAC3BF,KAAKG,KAAOJ,EAAOI,MAAQ,GAC3BH,KAAKI,QAAUL,EAAOK,SAAW,KACjCJ,KAAKK,MAAQN,EAAOM,OAAS,KAEzBL,KAAKC,KAAOD,KAAKE,MACpBI,MAAMC,MAAMP,KAAKQ,QAAQC,KAAKT,OA6D/B,mBAzDDQ,QAAA,WAECR,KAAKU,IAAM,IAAIJ,MAAMK,IAAI,MAAO,CAC/BC,OAAQ,CAACZ,KAAKC,IAAKD,KAAKE,MACxBC,KAAMH,KAAKG,KACXU,SAAU,KAGXb,KAAKU,IAAIG,SAASC,IAAI,cAAe,CACpCC,MAAO,QACPC,SAAU,CACTC,MAAO,GACPC,IAAK,OAIPlB,KAAKU,IAAIS,UAAUC,QAAQ,cAE3B,IAAIC,EAAgB,IAAIf,MAAMgB,cAAc,CAE3CC,YAAY,EAEZC,SAAU,GACVC,yBAAyB,IAG1BJ,EAAcK,QAAQC,QAAQC,IAAI,SAAU,uBAC5CP,EAAcQ,SAASF,QAAQC,IAAI,SAAU,4BAC7C5B,KAAKU,IAAIoB,WAAWhB,IAAIO,GAExB,IAAMU,EAAQ,CACbC,KAAQ,oBACRC,SAAY,IAGbF,EAAME,SAASC,KACd,CACCF,KAAQ,UACRG,GAAM,EACNC,SAAY,CACXJ,KAAQ,QACRK,YAAe,CACdrC,KAAKC,IACLD,KAAKE,OAGPoC,WAAc,CAGbC,mBACC,aAAevC,KAAKI,QADC,oBAEHJ,KAAKK,MAAQ,iCAAmCL,KAAKK,MAAQ,UAKnFgB,EAAcP,IAAIiB,KAClB"}