{"version":3,"file":"footer.bundle.js","sources":["../src/footer.js"],"sourcesContent":["import './style/style.scss'\r\nimport './style/_mobile.scss'\r\nimport './style/_footer-mobile.scss'\r\nimport './style/_mobile-contacts.scss'\r\n\r\nexport class Footer\r\n{\r\n\tconstructor () {\r\n\t\tthis.footer = document.querySelector('.footer__bottom')\r\n\t\tthis.mobileMenu = document.querySelector('.footer-mobile')\r\n\r\n\t\tthis.mobileContactsButton = document.querySelector('[data-mobile-contacts-toggle]')\r\n\t\tthis.mobileContactsContainer = document.querySelector('[data-mobile-contacts]')\r\n\r\n\t\tif (this.mobileContactsButton) {\r\n\t\t\tthis.mobileContactsButton.addEventListener('click', this.mobileContactsToggle.bind(this))\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('click', this.bodyClickHandler.bind(this))\r\n\r\n\t\t/*this.calculateMenu()\r\n\t\twindow.addEventListener('scroll', this.calculateMenu.bind(this))*/\r\n\t}\r\n\r\n\tcalculateMenu()\r\n\t{\r\n\t\tconst footerClientRect = this.footer.getBoundingClientRect()\r\n\t\tconst menuClientRect = this.mobileMenu.getBoundingClientRect()\r\n\t\tconst currentScroll = window.pageYOffset + footerClientRect.top\r\n\r\n\t\tconsole.log(currentScroll)\r\n\r\n\t\tconst menuBottom = menuClientRect.height + menuClientRect.top + window.pageYOffset\r\n\r\n\t\tif (menuBottom >= currentScroll) {\r\n\t\t\tthis.mobileMenu.style.position = 'absolute'\r\n\t\t\tthis.mobileMenu.style.bottom = currentScroll + 'px'\r\n\t\t} else {\r\n\t\t\tthis.mobileMenu.style.position = 'fixed'\r\n\t\t\tthis.mobileMenu.style.bottom = 0\r\n\t\t}\r\n\t}\r\n\r\n\tmobileContactsToggle(evt = new Event('click'))\r\n\t{\r\n\t\tevt.preventDefault()\r\n\t\tif (this.mobileContactsContainer) {\r\n\t\t\tif (this.mobileContactsContainer.classList.contains('is-open')) {\r\n\t\t\t\tthis.mobileContactsContainer.classList.remove('is-open')\r\n\t\t\t} else {\r\n\t\t\t\tthis.mobileContactsContainer.classList.add('is-open')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tbodyClickHandler(evt = new Event('click'))\r\n\t{\r\n\t\tconst el = evt.target || evt.currentTarget\r\n\r\n\t\tif (el && !el.closest('[data-mobile-contacts]') && !el.closest('[data-mobile-contacts-toggle]') && this.mobileContactsContainer.classList.contains('is-open')) {\r\n\t\t\tthis.mobileContactsContainer.classList.remove('is-open')\r\n\t\t}\r\n\t}\r\n}"],"names":["Footer","this","footer","document","querySelector","mobileMenu","mobileContactsButton","mobileContactsContainer","addEventListener","mobileContactsToggle","bind","bodyClickHandler","_proto","calculateMenu","footerClientRect","getBoundingClientRect","menuClientRect","currentScroll","window","pageYOffset","top","console","log","height","style","position","bottom","evt","Event","preventDefault","classList","contains","remove","add","el","target","currentTarget","closest"],"mappings":"iDAKaA,aAEZ,aACCC,KAAKC,OAASC,SAASC,cAAc,mBACrCH,KAAKI,WAAaF,SAASC,cAAc,kBAEzCH,KAAKK,qBAAuBH,SAASC,cAAc,iCACnDH,KAAKM,wBAA0BJ,SAASC,cAAc,0BAElDH,KAAKK,sBACRL,KAAKK,qBAAqBE,iBAAiB,QAASP,KAAKQ,qBAAqBC,KAAKT,OAGpFE,SAASK,iBAAiB,QAASP,KAAKU,iBAAiBD,KAAKT,OAI9D,kBAwCA,OAxCAW,EAEDC,cAAA,WAEC,IAAMC,EAAmBb,KAAKC,OAAOa,wBAC/BC,EAAiBf,KAAKI,WAAWU,wBACjCE,EAAgBC,OAAOC,YAAcL,EAAiBM,IAE5DC,QAAQC,IAAIL,GAEOD,EAAeO,OAASP,EAAeI,IAAMF,OAAOC,aAErDF,GACjBhB,KAAKI,WAAWmB,MAAMC,SAAW,WACjCxB,KAAKI,WAAWmB,MAAME,OAAST,EAAgB,OAE/ChB,KAAKI,WAAWmB,MAAMC,SAAW,QACjCxB,KAAKI,WAAWmB,MAAME,OAAS,IAEhCd,EAEDH,qBAAA,SAAqBkB,YAAAA,IAAAA,EAAM,IAAIC,MAAM,UAEpCD,EAAIE,iBACA5B,KAAKM,0BACJN,KAAKM,wBAAwBuB,UAAUC,SAAS,WACnD9B,KAAKM,wBAAwBuB,UAAUE,OAAO,WAE9C/B,KAAKM,wBAAwBuB,UAAUG,IAAI,aAG7CrB,EAEDD,iBAAA,SAAiBgB,YAAAA,IAAAA,EAAM,IAAIC,MAAM,UAEhC,IAAMM,EAAKP,EAAIQ,QAAUR,EAAIS,cAEzBF,IAAOA,EAAGG,QAAQ,4BAA8BH,EAAGG,QAAQ,kCAAoCpC,KAAKM,wBAAwBuB,UAAUC,SAAS,YAClJ9B,KAAKM,wBAAwBuB,UAAUE,OAAO,aAE/C"}